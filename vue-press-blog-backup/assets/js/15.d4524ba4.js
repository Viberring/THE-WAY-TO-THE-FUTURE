(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{218:function(o,e,t){"use strict";t.r(e);var v=t(0),_=Object(v.a)({},(function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[t("h1",{attrs:{id:"installation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[o._v("#")]),o._v(" Installation")]),o._v(" "),t("p",[t("a",{attrs:{href:"https://wiki.archlinux.org/index.php/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)",target:"_blank",rel:"noopener noreferrer"}},[o._v("official installation"),t("OutboundLink")],1)]),o._v(" "),t("pre",[t("code",[o._v("In this version, I will only cover UEFI's installation\n")])]),o._v(" "),t("h4",{attrs:{id:"download-archlinux-iso-file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#download-archlinux-iso-file"}},[o._v("#")]),o._v(" Download Archlinux iso file")]),o._v(" "),t("p",[t("a",{attrs:{href:"https://www.archlinux.org/download/",target:"_blank",rel:"noopener noreferrer"}},[o._v("Archlinux iso"),t("OutboundLink")],1)]),o._v(" "),t("h4",{attrs:{id:"make-usb-startup-disk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#make-usb-startup-disk"}},[o._v("#")]),o._v(" Make USB Startup Disk")]),o._v(" "),t("ol",[t("li",[o._v("find you usd device location\n"),t("blockquote",[t("p",[t("code",[o._v("df -h")]),t("br"),o._v(" "),t("code",[o._v("/dev/sdb? (/dev/sdb1 /dev/sdb2 ...)")])])])]),o._v(" "),t("li",[o._v("umount your usb device (or maybe you can ignore)\n"),t("blockquote",[t("p",[t("code",[o._v("umount /dev/sdb?")])])])]),o._v(" "),t("li",[o._v("make\n"),t("blockquote",[t("p",[t("code",[o._v("sudo dd bs=4M if=/iso-location of=/usb-dev-location")])])])])]),o._v(" "),t("h4",{attrs:{id:"start"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#start"}},[o._v("#")]),o._v(" Start")]),o._v(" "),t("ol",[t("li",[o._v("change start config\n"),t("blockquote",[t("p",[o._v("make your computer start from usb")])])]),o._v(" "),t("li",[o._v("check your boot mode\n"),t("blockquote",[t("p",[o._v("UEFI or BIOS ?"),t("br"),o._v("\ncheck if /sys/firmware/efi existss"),t("br"),o._v(" "),t("code",[o._v("#!/bin/bash")]),t("br"),o._v(" "),t("code",[o._v("[ -d /sys/firmware/efi ] && echo UEFI || echo BIOS")])])])]),o._v(" "),t("li",[o._v("connect to network\n"),t("ul",[t("li",[o._v("Mac address\n"),t("blockquote",[t("p",[o._v("cat /sys/class/net/enp1s0/address")])])]),o._v(" "),t("li",[o._v("wifi\n"),t("blockquote",[t("p",[t("code",[o._v("wifi-menu")]),t("br"),o._v("\nthen choose your available wifi to connect")])])]),o._v(" "),t("li",[o._v("ethernet\n"),t("blockquote",[t("p",[t("code",[o._v("dhcpcd")])])])]),o._v(" "),t("li",[o._v("check your connection\n"),t("blockquote",[t("p",[t("code",[o._v("ping www.baidu.com")])])])])])]),o._v(" "),t("li",[o._v("synchronize your time\n"),t("blockquote",[t("p",[t("code",[o._v("timedatectl set-ntp true")])])])]),o._v(" "),t("li",[o._v("disk partition (UEFI + GPT)\n"),t("ul",[t("li",[o._v("view your partition information\n"),t("blockquote",[t("p",[t("code",[o._v("fdisk -l")]),t("br"),o._v("\nyou can find your disk with /dev/sda?")])])]),o._v(" "),t("li",[o._v("start partition"),t("br"),o._v(" "),t("code",[o._v("fdisk /dev/sda?")]),o._v(" "),t("ul",[t("li",[o._v("fdisk opertation\n"),t("ul",[t("li",[t("code",[o._v("m")]),o._v(" help comman")]),o._v(" "),t("li",[t("code",[o._v("g")]),o._v(" to construct "),t("code",[o._v("gpt")])]),o._v(" "),t("li",[t("code",[o._v("n")]),o._v(" to add partition")]),o._v(" "),t("li",[t("code",[o._v("w")]),o._v(" write to disk")])])]),o._v(" "),t("li",[o._v("enter "),t("code",[o._v("g")]),o._v(" to create a empty GTP partition")]),o._v(" "),t("li",[o._v("enter "),t("code",[o._v("n")]),o._v(" to create new partition")]),o._v(" "),t("li",[o._v("first partition (startup disk)\n"),t("blockquote",[t("p",[t("code",[o._v("/dev/sda1")]),o._v(" +512M\n:: need change the steps.")])])]),o._v(" "),t("li",[o._v("second partition (/boot)\n"),t("blockquote",[t("p",[t("code",[o._v("/dev/sda2")]),o._v(" +600M")])])]),o._v(" "),t("li",[o._v("third partition  (/)\n"),t("blockquote",[t("p",[t("code",[o._v("/dev/sda3")]),o._v(" +40G")])])]),o._v(" "),t("li",[o._v("forth partition  (swap)\n"),t("blockquote",[t("p",[t("code",[o._v("/dev/sda4")]),o._v(" +1G")])])]),o._v(" "),t("li",[o._v("fifth partition  (/home)\n"),t("blockquote",[t("p",[t("code",[o._v("/dev/sda5")]),o._v(" +(all left)")])])])])]),o._v(" "),t("li",[o._v("check your partition\n"),t("blockquote",[t("p",[t("code",[o._v("lsblk")])])])])])]),o._v(" "),t("li",[o._v("format your disk partition\n"),t("blockquote",[t("p",[t("code",[o._v("mkfs.fat -F32 /dev/sda1")]),t("br"),o._v(" "),t("code",[o._v("mkfs.ext4 /dev/sda2")]),t("br"),o._v(" "),t("code",[o._v("mkfs.ext4 /dev/sda3")]),t("br"),o._v(" "),t("code",[o._v("mkfs.ext4 /dev/sda4")]),t("br"),o._v(" "),t("code",[o._v("mkfs.ext4 /dev/sda5")])])])]),o._v(" "),t("li",[o._v("mount disk\n"),t("ul",[t("li",[o._v("swap"),t("br"),o._v(" "),t("code",[o._v("mkswap /dev/sda4")]),t("br"),o._v(" "),t("code",[o._v("swapon /dev/sda4")])]),o._v(" "),t("li",[o._v("mount"),t("br"),o._v(" "),t("code",[o._v("mount /dev/sda3 /mnt")]),t("br"),o._v(" "),t("code",[o._v("mkdir /mnt/boot")]),t("br"),o._v(" "),t("code",[o._v("mount /dev/sda2 /mnt/boot")]),t("br"),o._v(" "),t("code",[o._v("mkdir /mnt/home")]),t("br"),o._v(" "),t("code",[o._v("mount /dev/sda5 /mnt/home")])]),o._v(" "),t("li",[o._v("check your mount"),t("br"),o._v(" "),t("code",[o._v("lsblk")])])])]),o._v(" "),t("li",[o._v("change your archlinux mirros"),t("br"),o._v(" "),t("code",[o._v("nano /etc/pacman.d/mirrowlist")]),o._v(" "),t("blockquote",[t("p",[o._v("Server = http://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch"),t("br"),o._v("\nServer = http://mirrors.zju.edu.cn/archlinux/$repo/os/$arch"),t("br"),o._v("\nServer = https://mirrors.163.com/archlinux/repo/os/arch")])])]),o._v(" "),t("li",[o._v("install basic packages\n"),t("blockquote",[t("p",[t("code",[o._v("pacstrap -i /mnt base base-devel")])])])]),o._v(" "),t("li",[o._v("fstab config\n"),t("ul",[t("li",[o._v("generate "),t("code",[o._v("fstab")]),o._v(" file\n"),t("blockquote",[t("p",[t("code",[o._v("genfstab -U /mnt >> /mnt/etc/fstab")])])])]),o._v(" "),t("li",[o._v("check "),t("code",[o._v("/mnt/etc/fstab")]),o._v(" "),t("blockquote",[t("p",[t("code",[o._v("cat /mnt/etc/fstab")])])])])])]),o._v(" "),t("li",[o._v("Chroot\n"),t("blockquote",[t("p",[t("code",[o._v("arch-chroot /mnt /bin/bash")])])])]),o._v(" "),t("li",[o._v("Setup Time ZOne\n"),t("blockquote",[t("p",[t("code",[o._v("ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime")]),o._v(" "),t("code",[o._v("hwclock --systohc")])])])]),o._v(" "),t("li",[o._v("Install Applications\n"),t("blockquote",[t("p",[t("code",[o._v("pacman -S vim dialog wpa_supplicant ntfs-3g networkmanager")])])])]),o._v(" "),t("li",[o._v("Localization\n"),t("blockquote",[t("p",[t("code",[o._v("nano /etc/locale.gen")]),t("br"),o._v("\nuncomment "),t("code",[o._v("en_US.UTF-8")]),o._v(" "),t("code",[o._v("zh_CN.UTF-8")]),t("br"),o._v(" "),t("code",[o._v("locale-gen")]),t("br"),o._v(" "),t("code",[o._v("echo LANG=en_US.UTF-8 > /etc/locale.conf")])])])]),o._v(" "),t("li",[o._v("root password\n"),t("blockquote",[t("p",[t("code",[o._v("passwd")])])])]),o._v(" "),t("li",[o._v("add user\n"),t("blockquote",[t("p",[t("code",[o._v("useradd -m -g users -s /bin/bash xxx(username)")]),t("br"),o._v(" "),t("code",[o._v("passwd xxx")]),t("br"),o._v(" "),t("code",[o._v("nano /etc/sudoers")]),o._v(" add "),t("code",[o._v("xxx ALL=(ALL) ALL")])])])]),o._v(" "),t("li",[o._v("Intel-ucode (only for Intel CPU)\n"),t("blockquote",[t("p",[t("code",[o._v("pacman -S intel-ucode")])])])]),o._v(" "),t("li",[o._v("boot loader\n"),t("blockquote",[t("p",[t("code",[o._v("pacman -S grub efibootmgr")]),t("br"),o._v(" "),t("code",[o._v("grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=grub --recheck")])])]),o._v(" "),t("ul",[t("li",[o._v("you can check your /boot\n"),t("blockquote",[t("p",[t("code",[o._v("cd /boot")]),t("br"),o._v(" "),t("code",[o._v("ls")])])])])]),o._v(" "),t("blockquote",[t("p",[t("code",[o._v("grub-mkconfig -o /boot/grub/grub.cfg")])])])]),o._v(" "),t("li",[o._v("reboot\n"),t("blockquote",[t("p",[t("code",[o._v("exit")]),t("br"),o._v(" "),t("code",[o._v("reboot")])])])])])])}),[],!1,null,null,null);e.default=_.exports}}]);