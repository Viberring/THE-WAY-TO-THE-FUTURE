(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{224:function(t,e,r){"use strict";r.r(e);var o=r(0),a=Object(o.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"linux-backup"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#linux-backup"}},[t._v("#")]),t._v(" Linux Backup")]),t._v(" "),r("pre",[r("code",[t._v("If you want to be free with so many other fucking trouble, you must do this.\n")])]),t._v(" "),r("h3",{attrs:{id:"how-to-back"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#how-to-back"}},[t._v("#")]),t._v(" How to back")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"http://cn.linux.vbird.org/linux_basic/0580backup.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("vbird"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://wiki.archlinux.org/index.php/System_backup_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)",target:"_blank",rel:"noopener noreferrer"}},[t._v("backup_utility"),r("OutboundLink")],1)])]),t._v(" "),r("h4",{attrs:{id:"du-command"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#du-command"}},[t._v("#")]),t._v(" "),r("code",[t._v("du command")])]),t._v(" "),r("blockquote",[r("p",[r("code",[t._v("du [option] [file]")]),r("br"),t._v(" "),r("code",[t._v("du -h --max-depth=1")])])]),t._v(" "),r("h4",{attrs:{id:"backup-files"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#backup-files"}},[t._v("#")]),t._v(" Backup files")]),t._v(" "),r("pre",[r("code",[t._v("/boot\n/etc\n/home\n/root     ( exclude cache file)\n/usr/local\n/opt      ( check the content )\n/var      ( if you need then exclude cache file)\n")])]),t._v(" "),r("h4",{attrs:{id:"rsync-backup"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rsync-backup"}},[t._v("#")]),t._v(" Rsync Backup")]),t._v(" "),r("ol",[r("li",[t._v("mount your backup medium (USB or External HD)\n"),r("blockquote",[r("p",[r("code",[t._v("sudo mount /dev/sdb? /mnt")])])])]),t._v(" "),r("li",[t._v("backup && recover\n"),r("ul",[r("li",[r("p",[t._v("backup"),r("br"),t._v("\nyou must exclude the destination directory.")]),t._v(" "),r("blockquote",[r("p",[r("code",[t._v("$ sudo rsync -paAXv --delete --exclude={} /path/to/source /path/to/destination")])])]),t._v(" "),r("blockquote",[r("p",[r("code",[t._v('$ sudo rsync -paAXv / --delete --exclude={"/dev/*","/proc/*","/sys/*","/tmp/*","/run/*","/mnt/*","/media/*","/lost+found"} /mnt')])])])]),t._v(" "),r("li",[r("p",[t._v("recover")]),t._v(" "),r("blockquote",[r("p",[r("code",[t._v("rsync -qaHAXS SOURCE_DIR DESTINATION_DIR")])])]),t._v(" "),r("p",[r("a",{attrs:{href:"https://wiki.archlinux.org/index.php/Migrate_installation_to_new_hardware",target:"_blank",rel:"noopener noreferrer"}},[t._v("change fstab"),r("OutboundLink")],1)]),t._v(" "),r("blockquote",[r("p",[r("code",[t._v("# rm /mnt/etc/fstab")]),r("br"),t._v(" "),r("code",[t._v("# genfstab -U /mnt >> /mnt/etc/fstab")]),r("br"),t._v(" "),r("code",[t._v("# arch-chroot /mnt")])])])])])])]),t._v(" "),r("h4",{attrs:{id:"trouble-shooting"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#trouble-shooting"}},[t._v("#")]),t._v(" trouble shooting")]),t._v(" "),r("ul",[r("li",[r("p",[r("a",{attrs:{href:"https://bbs.archlinuxcn.org/viewtopic.php?id=5250",target:"_blank",rel:"noopener noreferrer"}},[t._v("1"),r("OutboundLink")],1)])]),t._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://bbs.archlinuxcn.org/viewtopic.php?id=4611",target:"_blank",rel:"noopener noreferrer"}},[t._v("2"),r("OutboundLink")],1)])])])])}),[],!1,null,null,null);e.default=a.exports}}]);